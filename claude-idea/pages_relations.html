<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title {
        font-family: serif;
        font-size: 24px;
        font-weight: bold;
        fill: #2d5142;
      }
      .subtitle {
        font-family: sans-serif;
        font-size: 14px;
        fill: #666;
      }
      .page-box {
        fill: #ffffff;
        stroke: #3d6152;
        stroke-width: 2;
        rx: 8;
      }
      .admin-box {
        fill: #fff7ed;
        stroke: #c18856;
        stroke-width: 2;
        rx: 8;
      }
      .page-text {
        font-family: sans-serif;
        font-size: 12px;
        fill: #333;
      }
      .page-title {
        font-family: serif;
        font-size: 14px;
        font-weight: bold;
        fill: #2d5142;
      }
      .arrow {
        stroke: #3d6152;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }
      .admin-arrow {
        stroke: #c18856;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowheadAdmin);
      }
      .flow-label {
        font-family: sans-serif;
        font-size: 10px;
        fill: #666;
      }
      .section-label {
        font-family: sans-serif;
        font-size: 16px;
        font-weight: bold;
        fill: #8b7355;
      }
      .auth-box {
        fill: #f0f9ff;
        stroke: #0ea5e9;
        stroke-width: 2;
        rx: 8;
      }
    </style>
    <marker
      id="arrowhead"
      markerWidth="10"
      markerHeight="7"
      refX="9"
      refY="3.5"
      orient="auto"
    >
      <polygon points="0 0, 10 3.5, 0 7" fill="#3D6152" />
    </marker>
    <marker
      id="arrowheadAdmin"
      markerWidth="10"
      markerHeight="7"
      refX="9"
      refY="3.5"
      orient="auto"
    >
      <polygon points="0 0, 10 3.5, 0 7" fill="#C18856" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#FAF7F2" />

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">
    EMC Yoga School ページ相関図
  </text>
  <text x="600" y="60" text-anchor="middle" class="subtitle">
    ユーザーフローとページ間の関係性
  </text>

  <!-- Section Labels -->
  <text x="120" y="100" class="section-label">認証フロー</text>
  <text x="450" y="100" class="section-label">学習エリア</text>
  <text x="900" y="100" class="section-label">管理エリア</text>

  <!-- Authentication Flow -->
  <rect x="50" y="120" width="120" height="80" class="auth-box" />
  <text x="110" y="145" text-anchor="middle" class="page-title">ログイン</text>
  <text x="110" y="160" text-anchor="middle" class="page-text">
    メール・パスワード
  </text>
  <text x="110" y="175" text-anchor="middle" class="page-text">
    パスワードリセット
  </text>
  <text x="110" y="190" text-anchor="middle" class="page-text">
    セッション管理
  </text>

  <!-- Main Learning Area -->
  <!-- Dashboard -->
  <rect x="250" y="120" width="140" height="100" class="page-box" />
  <text x="320" y="145" text-anchor="middle" class="page-title">
    ダッシュボード
  </text>
  <text x="320" y="160" text-anchor="middle" class="page-text">
    ・学習進捗概要
  </text>
  <text x="320" y="175" text-anchor="middle" class="page-text">
    ・最近のレッスン
  </text>
  <text x="320" y="190" text-anchor="middle" class="page-text">・お知らせ</text>
  <text x="320" y="205" text-anchor="middle" class="page-text">
    ・ライブセッション
  </text>

  <!-- Lessons List -->
  <rect x="420" y="120" width="140" height="100" class="page-box" />
  <text x="490" y="145" text-anchor="middle" class="page-title">
    レッスン一覧
  </text>
  <text x="490" y="160" text-anchor="middle" class="page-text">
    ・チャプター別表示
  </text>
  <text x="490" y="175" text-anchor="middle" class="page-text">
    ・全レッスン表示
  </text>
  <text x="490" y="190" text-anchor="middle" class="page-text">
    ・検索・フィルター
  </text>
  <text x="490" y="205" text-anchor="middle" class="page-text">・進捗表示</text>

  <!-- Chapter Detail -->
  <rect x="330" y="280" width="140" height="80" class="page-box" />
  <text x="400" y="305" text-anchor="middle" class="page-title">
    チャプター詳細
  </text>
  <text x="400" y="320" text-anchor="middle" class="page-text">
    ・チャプター概要
  </text>
  <text x="400" y="335" text-anchor="middle" class="page-text">
    ・レッスン一覧
  </text>
  <text x="400" y="350" text-anchor="middle" class="page-text">・関連資料</text>

  <!-- Lesson Viewer -->
  <rect x="500" y="280" width="140" height="120" class="page-box" />
  <text x="570" y="305" text-anchor="middle" class="page-title">
    レッスン視聴
  </text>
  <text x="570" y="320" text-anchor="middle" class="page-text">
    ・YouTube動画
  </text>
  <text x="570" y="335" text-anchor="middle" class="page-text">・進捗追跡</text>
  <text x="570" y="350" text-anchor="middle" class="page-text">・関連資料</text>
  <text x="570" y="365" text-anchor="middle" class="page-text">
    ・完了マーク
  </text>
  <text x="570" y="380" text-anchor="middle" class="page-text">
    ・ナビゲーション
  </text>

  <!-- Live Sessions -->
  <rect x="590" y="120" width="140" height="80" class="page-box" />
  <text x="660" y="145" text-anchor="middle" class="page-title">
    ライブセッション
  </text>
  <text x="660" y="160" text-anchor="middle" class="page-text">
    ・予定セッション
  </text>
  <text x="660" y="175" text-anchor="middle" class="page-text">
    ・アーカイブ視聴
  </text>
  <text x="660" y="190" text-anchor="middle" class="page-text">・参加記録</text>

  <!-- Documents Library -->
  <rect x="670" y="280" width="140" height="80" class="page-box" />
  <text x="740" y="305" text-anchor="middle" class="page-title">
    資料ライブラリ
  </text>
  <text x="740" y="320" text-anchor="middle" class="page-text">
    ・カテゴリー別
  </text>
  <text x="740" y="335" text-anchor="middle" class="page-text">・検索機能</text>
  <text x="740" y="350" text-anchor="middle" class="page-text">
    ・ダウンロード
  </text>

  <!-- Profile -->
  <rect x="250" y="450" width="140" height="100" class="page-box" />
  <text x="320" y="475" text-anchor="middle" class="page-title">
    マイページ
  </text>
  <text x="320" y="490" text-anchor="middle" class="page-text">・学習統計</text>
  <text x="320" y="505" text-anchor="middle" class="page-text">
    ・最近の活動
  </text>
  <text x="320" y="520" text-anchor="middle" class="page-text">
    ・プロフィール設定
  </text>
  <text x="320" y="535" text-anchor="middle" class="page-text">
    ・アカウント管理
  </text>

  <!-- Admin Area -->
  <!-- Admin Dashboard -->
  <rect x="850" y="120" width="140" height="100" class="admin-box" />
  <text x="920" y="145" text-anchor="middle" class="page-title">
    管理ダッシュボード
  </text>
  <text x="920" y="160" text-anchor="middle" class="page-text">・統計情報</text>
  <text x="920" y="175" text-anchor="middle" class="page-text">
    ・ユーザー動向
  </text>
  <text x="920" y="190" text-anchor="middle" class="page-text">
    ・コンテンツ分析
  </text>
  <text x="920" y="205" text-anchor="middle" class="page-text">
    ・お知らせ管理
  </text>

  <!-- User Management -->
  <rect x="1020" y="120" width="140" height="100" class="admin-box" />
  <text x="1090" y="145" text-anchor="middle" class="page-title">
    受講生管理
  </text>
  <text x="1090" y="160" text-anchor="middle" class="page-text">
    ・ユーザー一覧
  </text>
  <text x="1090" y="175" text-anchor="middle" class="page-text">
    ・詳細情報
  </text>
  <text x="1090" y="190" text-anchor="middle" class="page-text">
    ・進捗管理
  </text>
  <text x="1090" y="205" text-anchor="middle" class="page-text">
    ・権限設定
  </text>

  <!-- Content Management -->
  <rect x="850" y="280" width="140" height="100" class="admin-box" />
  <text x="920" y="305" text-anchor="middle" class="page-title">
    コンテンツ管理
  </text>
  <text x="920" y="320" text-anchor="middle" class="page-text">
    ・チャプター編集
  </text>
  <text x="920" y="335" text-anchor="middle" class="page-text">
    ・レッスン管理
  </text>
  <text x="920" y="350" text-anchor="middle" class="page-text">・資料管理</text>
  <text x="920" y="365" text-anchor="middle" class="page-text">・公開設定</text>

  <!-- Analytics -->
  <rect x="1020" y="280" width="140" height="80" class="admin-box" />
  <text x="1090" y="305" text-anchor="middle" class="page-title">
    分析・レポート
  </text>
  <text x="1090" y="320" text-anchor="middle" class="page-text">
    ・学習分析
  </text>
  <text x="1090" y="335" text-anchor="middle" class="page-text">
    ・エンゲージメント
  </text>
  <text x="1090" y="350" text-anchor="middle" class="page-text">
    ・レポート出力
  </text>

  <!-- Arrows and Flow -->
  <!-- Login to Dashboard -->
  <line x1="170" y1="160" x2="240" y2="160" class="arrow" />
  <text x="205" y="155" text-anchor="middle" class="flow-label">
    ログイン成功
  </text>

  <!-- Dashboard to other pages -->
  <line x1="320" y1="220" x2="320" y2="280" class="arrow" />
  <line x1="390" y1="170" x2="420" y2="170" class="arrow" />
  <line x1="390" y1="190" x2="590" y2="160" class="arrow" />
  <line x1="320" y1="220" x2="320" y2="440" class="arrow" />

  <!-- Lessons flow -->
  <line x1="490" y1="220" x2="400" y2="280" class="arrow" />
  <line x1="470" y1="320" x2="500" y2="340" class="arrow" />
  <line x1="640" y1="340" x2="670" y2="320" class="arrow" />

  <!-- Admin access -->
  <line x1="170" y1="140" x2="840" y2="160" class="admin-arrow" />
  <text x="500" y="135" text-anchor="middle" class="flow-label">
    管理者ログイン
  </text>

  <!-- Admin internal navigation -->
  <line x1="990" y1="170" x2="1020" y2="170" class="admin-arrow" />
  <line x1="920" y1="220" x2="920" y2="280" class="admin-arrow" />
  <line x1="990" y1="320" x2="1020" y2="320" class="admin-arrow" />

  <!-- Legend -->
  <rect
    x="50"
    y="650"
    width="300"
    height="120"
    fill="white"
    stroke="#ccc"
    rx="8"
  />
  <text x="60" y="670" class="page-title">凡例</text>

  <rect x="60" y="680" width="20" height="15" class="page-box" />
  <text x="90" y="692" class="page-text">学習エリア（受講生用）</text>

  <rect x="60" y="700" width="20" height="15" class="admin-box" />
  <text x="90" y="712" class="page-text">管理エリア（管理者用）</text>

  <rect x="60" y="720" width="20" height="15" class="auth-box" />
  <text x="90" y="732" class="page-text">認証エリア</text>

  <line x1="60" y1="745" x2="85" y2="745" class="arrow" />
  <text x="90" y="748" class="page-text">ページ遷移</text>

  <!-- Key Features -->
  <rect
    x="400"
    y="650"
    width="350"
    height="120"
    fill="white"
    stroke="#ccc"
    rx="8"
  />
  <text x="410" y="670" class="page-title">主要機能</text>

  <text x="410" y="690" class="page-text">✓ YouTube API連携による動画配信</text>
  <text x="410" y="705" class="page-text">✓ 学習進捗の自動追跡</text>
  <text x="410" y="720" class="page-text">
    ✓ レスポンシブデザイン（モバイル対応）
  </text>
  <text x="410" y="735" class="page-text">✓ リアルタイム通知・お知らせ</text>
  <text x="410" y="750" class="page-text">✓ 管理者向け分析ダッシュボード</text>

  <!-- User Roles -->
  <rect
    x="800"
    y="650"
    width="300"
    height="120"
    fill="white"
    stroke="#ccc"
    rx="8"
  />
  <text x="810" y="670" class="page-title">ユーザーロール</text>

  <text x="810" y="690" class="page-text">
    👥 受講生: 学習コンテンツへのアクセス
  </text>
  <text x="810" y="705" class="page-text">👑 管理者: 全機能 + 管理機能</text>
  <text x="810" y="720" class="page-text">🔒 認証: Supabase Auth使用</text>
  <text x="810" y="735" class="page-text">📱 アクセス: Web・モバイル対応</text>
</svg>
